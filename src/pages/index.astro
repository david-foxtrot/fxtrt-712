---
import Layout from '../layouts/Layout.astro';
import CardPartido from '../components/CardPartido.astro';
import partidos from '../data/partidos.json';

const partidosSerieA = partidos.filter(p => p.campeonato === "Brasileirão Série A");
const partidosSerieB = partidos.filter(p => p.campeonato === "Brasileirão Série B");
---
<Layout title="GuiaFutebol-BR | Onde Assistir Futebol Ao Vivo">
    <main class="container mx-auto p-4 max-w-2xl">
        <header class="my-8">
            <h1 class="text-4xl font-bold text-center text-emerald-400">
                GuiaFutebol<span class="text-gray-400">-BR</span>
            </h1>
            <p class="text-center text-gray-400 mt-2">
                A guia mais rápida para saber onde assistir futebol ao vivo.
            </p>
        </header>

        {partidos.length === 0 ? (
            <div class="text-center bg-gray-800/50 rounded-lg p-10 mt-12">
                <p class="text-xl text-gray-300">Nenhum jogo programado para hoje.</p>
                <p class="text-gray-400 mt-2">Por favor, volte mais tarde.</p>
            </div>
        ) : (
            <>
                {partidosSerieA.length > 0 && (
                    <div class="mt-12">
                        <h2 class="text-xl font-bold mb-4 text-center text-gray-300">Brasileirão Série A</h2>
                        <div class="bg-gray-800/50 rounded-lg p-2 md:p-4">
                            {partidosSerieA.map(partido => <CardPartido {...partido} />)}
                        </div>
                    </div>
                )}

                {partidosSerieB.length > 0 && (
                    <div class="mt-12">
                        <h2 class="text-xl font-bold mb-4 text-center text-gray-300">Brasileirão Série B</h2>
                        <div class="bg-gray-800/50 rounded-lg p-2 md:p-4">
                            {partidosSerieB.map(partido => <CardPartido {...partido} />)}
                        </div>
                    </div>
                )}
            </>
        )}
        </main>
</Layout>